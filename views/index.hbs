<div class="row mx-auto mt-5"  style="width: 60%;">
  <div class="total-amount text-center total-amount">
    <span class="align-middle mx-2">總支出</span>
    <i class="fas fa-dollar-sign fa-2x  align-middle" ></i>    
    <span class="align-middle total-amount-price">{{totalAmount}}</span>
  </div>
</div>
<div class="row mx-auto mt-1"  style="width: 60%;">
<div class="add-new d-flex justify-content-end mb-3 mx-5 px-5">
    <form action="/sort" method="GET">
      <select name="sort" class="form-select mx-3 " id='inputType' aria-label="Default select example" style="width: fit-content;" onchange="this.form.submit()" >
        <option selected>搜尋排列</option>
        <option value="name-asc" > 店名 A -> Z </option>
        <option value="name-desc"> 店名 Z -> A </option>
        <option value="rating-descending" > 評分 高->低 </option>
        <option value="rating-ascending"> 評分 低->高</option>
        <option value="category-asc">餐廳類別</option>
        <option value="location-asc">餐廳地區</option>
      </select>
    </form>
  </div>
</div>


<div class="row mx-auto "  style="width: 60%;">
  <ul class="list-group ">
  {{#each records}}
    <div class="row records mb-2">
      <li class="list-group-item d-flex justify-content-between align-items-center ">
        <div class="col-1 my-0 d-flex justify-content-center">
          <i class="{{this.icon}} fa-2x category-icon "></i>  
        </div>
        <div class="col-5 pl-2 record-detail mt-1">  
          <p class="record-title">{{ this.name }}</p>
          <p class="record-date">{{ this.date }}</p>
        </div> 
        <div class="col-2">
            <span> $ {{ this.amount }} 元</span>
        </div> 
        <div class="col-4 d-flex justify-content-end">
          <a class="btn btn-success mx-3" href="./records/{{this._id}}/edit">修改</a>
          <button type="button" class="btn btn-secondary  mx-1" data-toggle="modal" data-target="#alertModal-{{this._id}}">刪除</button>
        </div>
      </li>
    </div>

    <!-- Modal -->
    <div class="modal fade" id="alertModal-{{this._id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header ">
            <h5 class="modal-title " id="exampleModalLabel">刪除此筆記錄
            </h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            您確定要刪除此餐廳嗎？刪除後就不能再復原囉！
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">取消</button>
            <form action="/records/{{this._id}}?_method=DELETE" method="POST">
            <button type="submit" class=" btn btn-danger mx-1">確定刪除</button>
            </form>
          </div>
        </div>
      </div>
    </div>
    {{/each}}
  </ul>

  <div class="add-btn my-3 text-center">
    <a class="btn btn-primary mr-5" href="/records/new" role="button" >新增支出</a>
  </div>
</div>
